<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css><title>Multicluster DevSecOps | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/ci/ title=Status>Status</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class=pf-c-nav><ul class=pf-c-nav__list><li class=pf-c-nav__item><a href=/patterns/ class=pf-c-nav__link><span class="pf-c-icon pf-m-md pf-m-inline"><span class=pf-c-icon__content><i class="fas fa-angle-left" aria-hidden=true></i></span></span>
<span style=padding-left:10px>Back to Patterns</span></a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/ class="pf-c-nav__link pf-m-current">Multicluster DevSecOps</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/getting-started/ class=pf-c-nav__link>Getting Started</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/devel-cluster/ class=pf-c-nav__link>Secured Development Cluster</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/production-cluster/ class=pf-c-nav__link>Secured Production Clusters</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/secure-supply-chain-demo/ class=pf-c-nav__link>Multicluster DevSecOps Demo</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/cluster-sizing/ class=pf-c-nav__link>Cluster Sizing</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/devsecops/ideas-for-customization/ class=pf-c-nav__link>Ideas for Customization</a></li></ul></div></div></div><main class=pf-c-page__main><section class=pf-c-page__main-section><div class="pf-l-grid pf-m-gutter"><div class="pf-l-grid__item pf-m-8-col"><div class=pf-c-content><div class=pattern-label><span class="pf-c-label pf-m-blue"><span class=pf-c-label__content><span class=pf-c-label__icon><i class="fas fa-fw fa-users" aria-hidden=true></i></span>
Community</span></span></div><div class=pf-c-content><script type=text/javascript src=/js/dashboard.js></script><div class=results><p id=ci-dataset></p><script>obtainBadges({target:"ci-dataset",filter_field:"pattern",filter_value:"devsecops"})</script></div><h1 id=multicluster-devsecops>Multicluster DevSecOps</h1><p><a href=getting-started class="btn btn-green fs-5 mb-4 mb-md-0 mr-2">Install</a>
<a href=https://groups.google.com/g/hybrid-cloud-patterns class="btn fs-5 mb-4 mb-md-0 mr-2">Help & Feedback</a>
<a href=https://github.com/hybrid-cloud-patterns/multicluster-devsecops/issues class="btn btn-red fs-5 mb-4 mb-md-0 mr-2">Report Bugs</a></p><h2 id=background>Background</h2><p>With this Pattern, we demonstrate a horizontal solution for multicluster DevSecOps use cases.</p><p>It is derived from the multi-cloud GitOps pattern with added products to provide a complete DevSecOps workflow. This includes CI/CD pipelines with security gates; image scanning, signing and storage in a secure registry; deployment to secured clusters that provide advanced security monitoring and alerting.</p><h3 id=solution-elements>Solution elements</h3><ul><li>How to use a GitOps approach to keep in control of configuration and operations</li><li>How to centrally manage multiple clusters, including workloads</li><li>How to build and deploy workloads across clusters using modern CI/CD</li><li>How to deploy different security products into the pattern</li></ul><h3 id=red-hat-products>Red Hat Products</h3><ul><li>Red Hat OpenShift Container Platform (Kubernetes)</li><li>Red Hat Advanced Cluster Management (Open Cluster Management)</li><li>Red Hat OpenShift GitOps (ArgoCD)</li><li>Red Hat OpenShift Pipelines (Tekton)</li><li>Red Hat Quay (container image registry with security features enabled)</li><li>Red Hat Open Data Foundation (highly available storage)</li><li>Red Hat Advanced Cluster Security (scanning and monitoring)</li></ul><h3 id=other-technologies-and-products>Other technologies and products</h3><ul><li>Hashicorp Vault community edition (secrets management)</li></ul><h2 id=context-on-multicluster-devsecops>Context on Multicluster DevSecOps</h2><p>Effective cloud native DevSecOps is about securing both the platform and the applications deployed to the platform. Securing the applications deployed is also about securing the supply chain. Not all applications are built in-house. Confidence in external applications and technologies is critical. OpenShift Platform Plus enables DevSecOps for both platform and supply chain.</p><p><strong>OpenShift Platform Plus</strong> includes OpenShift Container Platform, Advanced Cluster Management, Advanced Cluster Security, OpenShift Data Foundation and Red Hat Quay. The capabilities delivered across these components combine to provide policy-based cluster lifecycle management and policy based risk and security management across your fleet of clusters. You can see the flow at the bottom of this graphic.</p><p><a href=/images/devsecops/full-devsecops-highlevel.png><img src=/images/devsecops/full-devsecops-highlevel.png alt="Multi-cluster DevSecOps"></a></p><p>The Hub cluster is where lifecycle, deployment, security, compliance and risk management policies are defined and is the central management point across clusters. DevSecOps for the platform includes pulling images from Red Hatâ€™s registry, pulling day two configuration code from Git via our integration with ArgoCD, and ensuring that all optional operators are deployed and configured.</p><p>Policy based deployment also specifies which admission controllers should be deployed to which clusters, including the ACS admission controller. The Hub also provides a unified view of health, security, risk and compliance across your fleet. We have many of these capabilities in place today, however, they each have their own UI. Over the next few releases, we will be working to provide an integrated multi-cluster user experience for admin, security and developer persona in the OpenShift Console.</p><h2 id=demo-scenario>Demo Scenario</h2><p>The Multicluster DevSecOps Pattern / Demo Scenario reflects this by having 3 layers:</p><ul><li>Managed/Secured edge - the edge or production a more controlled environment.</li><li>Devel - where AppDev, Testing etc. is happening</li><li>Central Data Center / Hub - the cloud/core, (and ERP systems of course, not part of the demo).</li></ul><p>There are ways of combing these three clusters into a two cluster (hub/devel and secured/edge) and single cluster (all in one). The documentation provides instructions (TBD Link).</p><h3 id=pattern-logical-architecture>Pattern Logical Architecture</h3><p>The following diagram explains how different roles have different concerns and focus when working with this distributed AL/ML architecture.</p><p><a href=/images/devsecops/logical-devsecops.png><img src=/images/devsecops/logical-devsecops.png alt="Multicluster DevSecOps Architecture"></a></p><p>In the Multi-Cluster DevSecOps architecture there are three logical types of sites.</p><ul><li>The Hub. This is where the cloud native infrastructure is monitored and managed. It performs cluster management, advanced cluster security and a secure image registry.</li><li>Devel. This is where the development pipeline is hosted. Developers submit code builds to the pipeline and various security tools are used in the pipeline to mitigate the risk of harmful applications or code being deployed in production.</li><li>Secured Production. This is where applications are securely deployed and monitored.</li></ul><h3 id=pattern-architecture-schema>Pattern Architecture Schema</h3><p>The following diagram shows various management functions, including products and components, that are deployed on central hub and managed clusters (Devel. and Prod.) in order to maintain secure clusters. Consider this the GitOps schema.</p><p><a href=/images/devsecops/schema-acm.png><img src=/images/devsecops/schema-acm.png alt="Multicluster DevSecOps Architecture - management schema"></a></p><p>The following diagram shows various development pipeline functions, including products and components, that are deployed on the central hub and development (Devel) clusters in order to provide security features and services for development pipelines. Consider this the DevSecOps schema.</p><p><a href=/images/devsecops/schema-devel-pipeline.png><img src=/images/devsecops/schema-devel-pipeline.png alt="Multicluster DevSecOps Architecture - development schema"></a></p></div></div></div><aside class="pf-l-grid__item pf-m-4-col pf-c-jump-links pf-m-vertical sticky pf-m-expandable pf-m-non-expandable-on-2xl" aria-label="Table of contents"><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#multicluster-devsecops>Multicluster DevSecOps</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#background>Background</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#context-on-multicluster-devsecops>Context on Multicluster DevSecOps</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#demo-scenario>Demo Scenario</a></li></ul></li></ul></nav></aside></div></section><footer id=footer class="footer-dark pf-m-no-fill pf-l-flex footer-center"><div class=pf-l-flex__item><a href=//www.redhat.com target=top aria-label="Visit Red Hat.com"><img src=/images/RHlogo.svg alt="Red Hat logo" width=145px height=613px></a><span class=site-copyright>Copyright &copy; 2023 Red Hat, Inc.</span></div></footer></main></div></body></html>