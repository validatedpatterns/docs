<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css><title>Retail | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/ci/ title=Status>Status</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class=pf-c-nav><ul class=pf-c-nav__list><li class=pf-c-nav__item><a href=/patterns/ class=pf-c-nav__link><span class="pf-c-icon pf-m-md pf-m-inline"><span class=pf-c-icon__content><i class="fas fa-angle-left" aria-hidden=true></i></span></span>
<span style=padding-left:10px>Back to Patterns</span></a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/ class="pf-c-nav__link pf-m-current">Retail</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/getting-started/ class=pf-c-nav__link>Getting Started</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/store/ class=pf-c-nav__link>Store Sites</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/application/ class=pf-c-nav__link>Application Demos</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/components/ class=pf-c-nav__link>Components</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/troubleshooting/ class=pf-c-nav__link>Troubleshooting</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/cluster-sizing/ class=pf-c-nav__link>Cluster Sizing</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/retail/ideas-for-customization/ class=pf-c-nav__link>Ideas for Customization</a></li></ul></div></div></div><main class=pf-c-page__main><section class=pf-c-page__main-section><div class="pf-l-grid pf-m-gutter"><div class="pf-l-grid__item pf-m-8-col"><div class=pf-c-content><div class=pattern-label><span class="pf-c-label pf-m-blue"><span class=pf-c-label__content><span class=pf-c-label__icon><i class="fas fa-fw fa-users" aria-hidden=true></i></span>
Community</span></span></div><div class=pf-c-content><div class=pattern_logo><img src=/images/logos/industrial-edge.png class=pattern_logo alt=Points></div><h1 id=retail-pattern>Retail Pattern</h1><p><a href=getting-started class="btn btn-green fs-5 mb-4 mb-md-0 mr-2">Install</a>
<a href=https://groups.google.com/g/hybrid-cloud-patterns class="btn fs-5 mb-4 mb-md-0 mr-2">Help & Feedback</a>
<a href=https://github.com/hybrid-cloud-patterns/retail/issues class="btn btn-red fs-5 mb-4 mb-md-0 mr-2">Report Bugs</a></p><h2 id=background>Background</h2><p>This pattern demonstrates a pattern that models the store side of a retail application.</p><p>It is derived from the <a href=https://quarkuscoffeeshop.github.io>Quarkus Coffeeshop Demo</a> done by Red
Hat Solution Architects. The demo models the use of multiple application microservices which use Kafka messaging to interact and a Postgres database to persist data. (There is a homeoffice analytics suite in the demo that we hope to include in a later version of the pattern.</p><p>This demo pulls together several different strands of the demo and allows for multiple stores to be installed on remote clusters via ACM if the user desires.</p><p>The demo allows users to go to the store&rsquo;s web page, order drinks and food items, and see those items &ldquo;made&rdquo; and served by the microservices in real time.</p><p>The pattern includes build pipelines and a demo space, so that changes to the applications can be tested prior to &ldquo;production&rdquo; deployments.</p><h3 id=solution-elements>Solution elements</h3><ul><li>How to use a GitOps approach to keep in control of configuration and operations</li><li>How to centrally manage multiple clusters, including workloads</li><li>How to build and deploy workloads across clusters using modern CI/CD</li><li>How to architect a modern application using microservices and Kafka in Java</li></ul><h3 id=red-hat-technologies>Red Hat Technologies</h3><ul><li>Red Hat OpenShift Container Platform (Kubernetes)</li><li>Red Hat Advanced Cluster Management (Open Cluster Management)</li><li>Red Hat OpenShift GitOps (ArgoCD)</li><li>Red Hat OpenShift Pipelines (Tekton)</li><li>Red Hat AMQ Streams (Apache Kafka Event Broker)</li></ul><h2 id=architecture>Architecture</h2><p>The following diagram shows the relationship between the microservices, messaging, and database components:</p><p><a href=/images/retail/retail-architecture.png><img src=/images/retail/retail-architecture.png alt="Retail Pattern Architecture"></a></p><ul><li>The hub. This cluster hosts the CI/CD pipelines, a test instance of the applications and messaging/database services for testing purposes, and a single functional store.</li><li>Optional remote clusters. Each remote site can support a complete store environment. The default one modelled is a &ldquo;RALEIGH&rdquo; store location.</li></ul><h3 id=demo-scenario>Demo Scenario</h3><p>The Retail Validated Pattern / Demo Scenario is focused in the Quarkus Coffeeshop retail experience. In a full retail
environment, it would be easy to be overwhelmed by things like item files, tax tables, item movement/placement within the store and so on, so the demo does not attempt to model all those elements - instead offering a subset of services to give a sense of how data can flow in such a system, how microservices should interact (via API calls and message passing), and where data can be persisted.</p><p>In the future we hope to expand this pattern with the homeoffice components, to further demonstrate how data can flow from leaf nodes to centralized data analytics services, which are crucial in retail IT environments.</p><ul><li>Web Service - the point of sale within the store. Shows the menu, and allows the user to order food and drinks, and shows when orders are ready.</li><li>Counter service - the &ldquo;heart&rdquo; of the store operation - receives orders and dispatches them to the barista and kitchen services, as appropriate. Users may order as many food and drink items in one order as they wish.</li><li>Barista - the service responsible for providing items from the &ldquo;drinks&rdquo; side of the menu.</li><li>Kitchen - the service responsible for providing items from the &ldquo;food&rdquo; side of the menu.</li></ul><p>Further documentation on the individual services is available at the upstream <a href=https://quarkuscoffeeshop.github.io/>Quarkus Coffeeshop</a> documentation site.</p><p><a href=/images/retail/retail-highlevel.png><img src=/images/retail/retail-highlevel.png alt="Demo Scenario"></a></p></div></div></div><aside class="pf-l-grid__item pf-m-4-col pf-c-jump-links pf-m-vertical sticky pf-m-expandable pf-m-non-expandable-on-2xl" aria-label="Table of contents"><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#retail-pattern>Retail Pattern</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#background>Background</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#architecture>Architecture</a></li></ul></li></ul></nav></aside></div></section><footer id=footer class="footer-dark pf-m-no-fill pf-l-flex footer-center"><div class=pf-l-flex__item><a href=//www.redhat.com target=top aria-label="Visit Red Hat.com"><img src=/images/RHlogo.svg alt="Red Hat logo" width=145px height=613px></a><span class=site-copyright>Copyright &copy; 2023 Red Hat, Inc.</span></div></footer></main></div></body></html>