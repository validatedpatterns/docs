{{ $currentPage := . }}
<div class="pf-c-nav">
  <ul class="pf-c-nav__list">
    {{ range .Site.Menus.learn }}
      <li class="pf-c-nav__item pf-m-expanded">
        <a href="{{ .URL }}" class="pf-c-nav__link {{ if ( $currentPage.IsMenuCurrent "learn" . ) -}}pf-m-current{{- end -}}">
          {{- .Name -}}
        </a>
        {{- if and (.HasChildren) (or ( $currentPage.IsMenuCurrent "learn" . ) ( $currentPage.HasMenuCurrent "learn" . )) -}}
        <section class="pf-c-nav__subnav ">
          <ul class="pf-c-nav__list">
            {{- range .Children }}
              <li class="pf-c-nav__item pf-m-expanded">
                <a href="{{ .URL }}" class="pf-c-nav__link {{ if ( $currentPage.IsMenuCurrent "learn" . ) -}}pf-m-current{{- end -}}">
                  {{- .Name -}}
                </a>
              </li>
            {{ end }}
          </ul>
        </section>
        {{ end }}
      </li>
    {{ end }}
  </ul>
</div>
